---
epoch: 1766748384473
modelKey: "gemini-2.5-flash|google"
topic: "Dataview Plugin Usage"


tags:
  - copilot-conversation
---

**user**: dataview  这个插件如何使用
[Timestamp: 2025/12/26 19:26:24]

**ai**: Dataview 是 Obsidian 中一个非常强大的插件，它允许你像数据库一样查询和组织你的笔记数据。你可以用它来创建动态的列表、表格、任务视图，甚至日历，这些视图会根据你的笔记内容自动更新。

### Dataview 的核心概念

1.  **数据源（Metadata）**: Dataview 从你的笔记中提取数据。这些数据可以是：
    *   **Frontmatter**: 笔记开头的 YAML 块，例如：
        ```yaml
        ---
        tags: [项目, 进行中]
        status: 进行中
        due: 2025-12-31
        priority: High
        ---
        ```
    *   **Inline Fields**: 笔记正文中的键值对，例如：
        `status:: 进行中`
        `项目:: [[我的大项目]]`
        `完成日期:: 2025-12-25`
    *   **Tags**: 笔记中的标签，例如 `#项目`、`#待办`。
    *   **Links**: 笔记中的内部链接 `[[另一篇笔记]]`。
    *   **Tasks**: 笔记中的任务列表 `- [ ] 这是一个任务`。

2.  **查询类型**: Dataview 支持几种主要的查询类型：
    *   `TABLE`: 以表格形式显示数据。
    *   `LIST`: 以列表形式显示数据。
    *   `TASK`: 显示任务列表。
    *   `CALENDAR`: 显示日历视图（需要日期字段）。

3.  **查询语法**: Dataview 的查询语法类似于 SQL，但更简洁。基本的结构包括：
    *   `FROM`: 指定数据来源（例如，文件夹、标签、链接）。
    *   `WHERE`: 过滤数据（例如，`status = "进行中"`）。
    *   `SORT`: 排序结果。
    *   `GROUP BY`: 分组结果。
    *   `FLATTEN`: 处理列表或多值字段。

### 如何使用 Dataview

你可以在任何 Obsidian 笔记中插入 Dataview 查询块。查询块以 ````dataview` 开头，以 ```` ` 结尾。

#### 1. 显示所有带有特定标签的笔记列表

假设你有一些笔记带有 `#项目` 标签。

```dataview
LIST
FROM #项目
SORT file.name ASC
```
这会列出所有带有 `#项目` 标签的笔记，并按文件名升序排列。

#### 2. 显示特定文件夹下的笔记表格

假设你有一个名为 `Projects` 的文件夹，里面的笔记都有 `status` 和 `due` 字段。

```dataview
TABLE status, due AS "截止日期", file.mtime AS "最后修改"
FROM "Projects"
WHERE status = "进行中"
SORT due ASC
```
这会显示 `Projects` 文件夹下所有 `status` 为 "进行中" 的笔记，显示它们的 `status`、`due` 字段（重命名为 "截止日期"）和最后修改时间，并按 `due` 字段升序排列。

#### 3. 显示所有未完成的任务

```dataview
TASK
FROM #待办
WHERE !completed
SORT due ASC
```
这会显示所有带有 `#待办` 标签且未完成的任务，并按 `due` 字段（如果任务有这个字段）升序排列。

#### 4. 使用 Inline Fields

假设你的笔记中有这样的内容：
`项目名称:: 我的新项目`
`状态:: 进行中`
`优先级:: 高`

你可以这样查询：
```dataview
TABLE 项目名称, 状态, 优先级
FROM ""
WHERE 优先级 = "高"
SORT 项目名称 ASC
```
`FROM ""` 表示查询整个库。

#### 5. Inline Dataview Queries (内联查询)

除了代码块，你还可以在笔记正文中使用内联查询，用 `$= ` 开头。
例如，显示当前笔记的创建日期：
`创建日期: $= this.file.ctime`

显示当前笔记的标签数量：
`标签数量: $= this.file.tags.length`

### 常用字段和函数

*   `file.name`: 笔记的文件名。
*   `file.ctime`: 笔记的创建时间。
*   `file.mtime`: 笔记的最后修改时间。
*   `file.folder`: 笔记所在的文件夹。
*   `file.tags`: 笔记的所有标签。
*   `file.link`: 笔记的链接。
*   `length(list)`: 获取列表的长度。
*   `date(string)`: 将字符串转换为日期对象。
*   `contains(list, item)`: 检查列表是否包含某个项。

### 进阶用法

*   **JavaScript 字段**: 你可以在 `TABLE` 或 `LIST` 中使用 JavaScript 表达式来计算或格式化字段。
*   **FLATTEN**: 当你的字段是列表时，`FLATTEN` 可以帮助你将列表中的每个元素作为单独的行处理。
*   **GROUP BY**: 按照某个字段对结果进行分组。

### 学习资源

*   **Dataview 官方文档**: 这是最全面和最新的学习资源，强烈推荐查阅：[https://blacksmithgu.github.io/obsidian-dataview/](https://blacksmithgu.github.io/obsidian-dataview/)
*   **Obsidian 社区**: 在 Obsidian 论坛或 Discord 上搜索 Dataview，可以找到很多示例和用法。

Dataview 的功能非常强大，掌握它能极大地提升你在 Obsidian 中的信息管理和组织能力。建议从简单的查询开始，逐步尝试更复杂的用法。
[Timestamp: 2025/12/26 19:26:33]

**user**: 你能感觉到我笔记的总目录吗？我感觉我现在用不到这个插件，有些鸡肋啊！ 我查东西直接 ctrl + f  不就行了！还需要输入那么多的 sql ？
[Timestamp: 2025/12/26 19:31:19]

**ai**: 
<errorChunk>Something went wrong. Please check if you have set your API key.
Path: Settings > copilot plugin > Basic Tab > Set Keys.
Or check model config
Error Details: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:streamGenerateContent?alt=sse: [403 ] Your API key was reported as leaked. Please use another API key.</errorChunk>
[Timestamp: 2025/12/26 19:31:23]

**user**: 在吗
[Timestamp: 2025/12/26 19:31:39]

**ai**: 
<errorChunk>Something went wrong. Please check if you have set your API key.
Path: Settings > copilot plugin > Basic Tab > Set Keys.
Or check model config
Error Details: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:streamGenerateContent?alt=sse: [403 ] Your API key was reported as leaked. Please use another API key.</errorChunk>
[Timestamp: 2025/12/26 19:31:39]

**user**: 在吗
[Timestamp: 2025/12/26 19:32:06]

**ai**: 
<errorChunk>Something went wrong. Please check if you have set your API key.
Path: Settings > copilot plugin > Basic Tab > Set Keys.
Or check model config
Error Details: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:streamGenerateContent?alt=sse: [403 ] Your API key was reported as leaked. Please use another API key.</errorChunk>
[Timestamp: 2025/12/26 19:32:06]

**user**: 在吗
[Timestamp: 2025/12/26 19:35:09]

**ai**: 
<errorChunk>Something went wrong. Please check if you have set your API key.
Path: Settings > copilot plugin > Basic Tab > Set Keys.
Or check model config
Error Details: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:streamGenerateContent?alt=sse: [403 ] Your API key was reported as leaked. Please use another API key.</errorChunk>
[Timestamp: 2025/12/26 19:35:09]